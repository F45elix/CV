<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Felix Mekonge — Cybersecurity Engineer</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
:root{
  --bg:#08090d;--bg2:#0d0f18;
  --blue:#4f8eff;--violet:#8b5cf6;--cyan:#06b6d4;
  --white:#f0f2ff;--muted:rgba(240,242,255,0.45);
  --border:rgba(255,255,255,0.07);--card:rgba(255,255,255,0.03);
}
body{background:var(--bg);color:var(--white);font-family:'Inter',sans-serif;overflow-x:hidden;}
#cur{position:fixed;width:10px;height:10px;background:var(--blue);border-radius:50%;pointer-events:none;z-index:9999;transform:translate(-50%,-50%);mix-blend-mode:screen;transition:width .2s,height .2s,background .2s;}
#cur-ring{position:fixed;width:36px;height:36px;border:1.5px solid rgba(79,142,255,.35);border-radius:50%;pointer-events:none;z-index:9998;transform:translate(-50%,-50%);transition:width .3s,height .3s;}
body *{cursor:none;}

/* LOADER */
#loader{position:fixed;inset:0;background:var(--bg);z-index:10000;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;transition:opacity .6s,visibility .6s;}
#loader.hidden{opacity:0;visibility:hidden;pointer-events:none;}
.loader-name{font-size:1rem;font-weight:700;letter-spacing:.35em;text-transform:uppercase;color:var(--blue);}
.loader-bar-track{width:220px;height:1px;background:rgba(255,255,255,.08);overflow:hidden;}
.loader-bar-fill{height:100%;background:linear-gradient(90deg,var(--blue),var(--violet));width:0%;transition:width 1.6s cubic-bezier(.4,0,.2,1);}
.loader-pct{font-family:'JetBrains Mono',monospace;font-size:.65rem;color:var(--muted);letter-spacing:.2em;}

/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:500;padding:24px 64px;display:flex;align-items:center;justify-content:space-between;backdrop-filter:blur(24px);background:rgba(8,9,13,.7);border-bottom:1px solid var(--border);transform:translateY(-100%);transition:transform .8s cubic-bezier(.4,0,.2,1);}
nav.visible{transform:translateY(0);}
.nav-logo{font-weight:800;font-size:.95rem;letter-spacing:.06em;}
.nav-logo span{color:var(--blue);}
.nav-links{display:flex;gap:36px;list-style:none;}
.nav-links a{font-size:.78rem;font-weight:500;color:var(--muted);text-decoration:none;letter-spacing:.04em;transition:color .3s;}
.nav-links a:hover{color:var(--white);}
.nav-pill{font-family:'JetBrains Mono',monospace;font-size:.65rem;letter-spacing:.15em;color:var(--bg);background:var(--blue);padding:8px 20px;border-radius:40px;text-decoration:none;font-weight:500;transition:background .3s,transform .3s;}
.nav-pill:hover{background:var(--violet);transform:translateY(-1px);}

/* HERO */
.hero{min-height:100vh;position:relative;display:flex;align-items:center;overflow:hidden;}
#globe-canvas{position:absolute;inset:0;width:100%;height:100%;z-index:0;}

/* vignette so text stays readable */
.hero-vignette{
  position:absolute;inset:0;z-index:1;
  background:
    radial-gradient(ellipse 55% 100% at 20% 50%, rgba(8,9,13,.92) 0%, rgba(8,9,13,.6) 60%, transparent 100%),
    radial-gradient(ellipse 100% 30% at 50% 100%, rgba(8,9,13,.8) 0%, transparent 60%),
    radial-gradient(ellipse 100% 20% at 50% 0%, rgba(8,9,13,.7) 0%, transparent 50%);
  pointer-events:none;
}

.hero-content{
  position:relative;z-index:2;
  padding:160px 64px 100px;
  max-width:680px;
}
.hero-eyebrow{font-family:'JetBrains Mono',monospace;font-size:.7rem;letter-spacing:.3em;color:var(--blue);text-transform:uppercase;margin-bottom:28px;opacity:0;transform:translateY(20px);transition:opacity .8s ease .2s,transform .8s ease .2s;}
.hero.active .hero-eyebrow{opacity:1;transform:translateY(0);}
.hero-h1{font-size:clamp(2.8rem,6vw,6rem);font-weight:900;line-height:1.02;letter-spacing:-.03em;opacity:0;transform:translateY(40px);transition:opacity .9s ease .35s,transform .9s ease .35s;}
.hero.active .hero-h1{opacity:1;transform:translateY(0);}
.hero-h1 .grad{background:linear-gradient(135deg,var(--blue) 0%,var(--violet) 50%,#e879f9 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;display:block;}
.hero-sub{max-width:480px;margin-top:24px;font-size:1rem;color:var(--muted);line-height:1.75;font-weight:300;opacity:0;transform:translateY(30px);transition:opacity .8s ease .55s,transform .8s ease .55s;}
.hero.active .hero-sub{opacity:1;transform:translateY(0);}
.hero-btns{display:flex;gap:16px;margin-top:44px;align-items:center;opacity:0;transform:translateY(20px);transition:opacity .8s ease .7s,transform .8s ease .7s;}
.hero.active .hero-btns{opacity:1;transform:translateY(0);}
.btn{display:inline-block;text-decoration:none;border-radius:6px;font-weight:600;font-size:.82rem;letter-spacing:.04em;transition:all .3s;padding:14px 32px;}
.btn-fill{background:linear-gradient(135deg,var(--blue),var(--violet));color:#fff;}
.btn-fill:hover{transform:translateY(-2px);box-shadow:0 16px 40px rgba(79,142,255,.3);}
.btn-ghost{border:1px solid var(--border);color:var(--muted);background:transparent;}
.btn-ghost:hover{border-color:rgba(255,255,255,.25);color:var(--white);background:rgba(255,255,255,.04);}

/* live threat ticker */
.threat-ticker{
  position:absolute;bottom:36px;right:40px;z-index:3;
  display:flex;flex-direction:column;gap:8px;
  opacity:0;transition:opacity .8s ease 1.4s;
}
.hero.active .threat-ticker{opacity:1;}
.ticker-item{
  display:flex;align-items:center;gap:10px;
  background:rgba(8,9,13,.75);border:1px solid var(--border);
  backdrop-filter:blur(20px);border-radius:6px;padding:10px 16px;
  font-family:'JetBrains Mono',monospace;font-size:.6rem;letter-spacing:.1em;color:var(--muted);
  animation:ticker-in .5s ease both;
}
@keyframes ticker-in{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}
.ticker-dot{width:6px;height:6px;border-radius:50%;flex-shrink:0;animation:blink 1.4s ease-in-out infinite;}
.td-red{background:#ff4466;}
.td-yellow{background:#ffcc00;}
.td-green{background:#00ff88;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.3}}

/* scroll hint */
.hero-scroll{position:absolute;bottom:40px;left:64px;z-index:3;font-family:'JetBrains Mono',monospace;font-size:.62rem;letter-spacing:.25em;color:var(--muted);display:flex;align-items:center;gap:12px;opacity:0;transition:opacity .8s ease 1.4s;}
.hero.active .hero-scroll{opacity:1;}
.scroll-bar{width:40px;height:1px;background:var(--border);position:relative;overflow:hidden;}
.scroll-bar::after{content:'';position:absolute;left:0;top:0;height:100%;width:50%;background:var(--blue);animation:scroll-slide 2s ease-in-out infinite;}
@keyframes scroll-slide{0%{left:-50%}100%{left:150%}}

/* MARQUEE */
.marquee-wrap{border-top:1px solid var(--border);border-bottom:1px solid var(--border);overflow:hidden;padding:22px 0;background:rgba(255,255,255,.01);}
.marquee-inner{display:flex;white-space:nowrap;animation:marquee 28s linear infinite;}
.marquee-item{display:inline-flex;align-items:center;gap:20px;padding:0 40px;font-family:'JetBrains Mono',monospace;font-size:.72rem;letter-spacing:.15em;color:var(--muted);text-transform:uppercase;}
.marquee-item .dot{width:4px;height:4px;background:var(--blue);border-radius:50%;opacity:.5;}
@keyframes marquee{from{transform:translateX(0)}to{transform:translateX(-50%)}}

/* SECTIONS */
.section{padding:130px 64px;max-width:1300px;margin:0 auto;}
.s-tag{font-family:'JetBrains Mono',monospace;font-size:.62rem;letter-spacing:.35em;color:var(--blue);text-transform:uppercase;margin-bottom:20px;display:flex;align-items:center;gap:12px;}
.s-tag::before{content:'';width:20px;height:1px;background:var(--blue);}
.s-title{font-size:clamp(2rem,4vw,3.5rem);font-weight:800;line-height:1.1;letter-spacing:-.02em;margin-bottom:60px;}
.s-title span{background:linear-gradient(135deg,var(--blue),var(--violet));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}

/* CAP GRID */
.cap-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1px;background:var(--border);}
.cap-cell{background:var(--bg);padding:40px 36px;position:relative;overflow:hidden;opacity:0;transform:translateY(30px);transition:opacity .7s ease,transform .7s ease,background .3s;}
.cap-cell.revealed{opacity:1;transform:translateY(0);}
.cap-cell::after{content:'';position:absolute;inset:0;background:radial-gradient(circle at 0% 100%,rgba(79,142,255,.07),transparent 60%);opacity:0;transition:opacity .4s;pointer-events:none;}
.cap-cell:hover{background:rgba(255,255,255,.02);}
.cap-cell:hover::after{opacity:1;}
.cap-num{font-family:'JetBrains Mono',monospace;font-size:.6rem;color:var(--blue);letter-spacing:.2em;margin-bottom:20px;opacity:.6;}
.cap-name{font-weight:700;font-size:1rem;margin-bottom:10px;}
.cap-desc{font-size:.8rem;color:var(--muted);line-height:1.7;}
.cap-bar{margin-top:20px;height:1px;background:rgba(255,255,255,.06);overflow:hidden;}
.cap-bar-fill{height:100%;background:linear-gradient(90deg,var(--blue),var(--violet));width:0;transition:width 1.4s cubic-bezier(.4,0,.2,1);}

/* STORY */
.story-grid{display:grid;grid-template-columns:1fr 1fr;gap:80px;align-items:start;}
.story-left{position:sticky;top:120px;}
.story-visual{width:100%;aspect-ratio:1;border-radius:12px;background:linear-gradient(135deg,rgba(79,142,255,.1),rgba(139,92,246,.1));border:1px solid var(--border);display:flex;align-items:center;justify-content:center;}
.story-visual-inner{width:160px;height:160px;border-radius:50%;background:linear-gradient(135deg,var(--blue),var(--violet));display:flex;align-items:center;justify-content:center;font-weight:900;font-size:2.5rem;color:#fff;box-shadow:0 0 80px rgba(79,142,255,.25);animation:pulse-hero 4s ease-in-out infinite;}
@keyframes pulse-hero{0%,100%{transform:scale(1);box-shadow:0 0 60px rgba(79,142,255,.25)}50%{transform:scale(1.04);box-shadow:0 0 100px rgba(79,142,255,.4)}}
.story-facts{display:grid;grid-template-columns:1fr 1fr;gap:1px;background:var(--border);margin-top:1px;border-radius:0 0 12px 12px;}
.fact-cell{background:var(--bg);padding:22px 24px;}
.fact-val{font-weight:800;font-size:1.5rem;color:var(--blue);}
.fact-lbl{font-family:'JetBrains Mono',monospace;font-size:.6rem;color:var(--muted);letter-spacing:.1em;text-transform:uppercase;margin-top:4px;}
.story-right p{font-size:.95rem;color:var(--muted);line-height:1.85;margin-bottom:24px;opacity:0;transform:translateY(20px);transition:opacity .7s ease,transform .7s ease;}
.story-right p.revealed{opacity:1;transform:translateY(0);}
.story-right p em{color:var(--blue);font-style:normal;font-weight:500;}
.story-quote{margin-top:40px;padding:28px;border-left:2px solid var(--blue);background:rgba(79,142,255,.04);border-radius:0 8px 8px 0;font-size:.9rem;font-weight:500;line-height:1.7;color:var(--white);opacity:0;transform:translateY(20px);transition:opacity .7s ease .3s,transform .7s ease .3s;}
.story-quote.revealed{opacity:1;transform:translateY(0);}
.tag-cloud{display:flex;flex-wrap:wrap;gap:8px;margin-top:20px;}
.tag{font-family:'JetBrains Mono',monospace;font-size:.62rem;letter-spacing:.12em;color:var(--blue);border:1px solid rgba(79,142,255,.25);padding:6px 14px;border-radius:4px;text-transform:uppercase;transition:background .3s,border-color .3s;}
.tag:hover{background:rgba(79,142,255,.08);border-color:rgba(79,142,255,.5);}
.tag.v{color:var(--violet);border-color:rgba(139,92,246,.25);}
.tag.v:hover{background:rgba(139,92,246,.08);border-color:rgba(139,92,246,.5);}

/* EDU */
.edu-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;}
.edu-card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:36px 28px;position:relative;overflow:hidden;opacity:0;transform:translateY(30px);transition:opacity .7s ease,transform .7s ease,border-color .3s;}
.edu-card.revealed{opacity:1;transform:translateY(0);}
.edu-card:hover{border-color:rgba(79,142,255,.3);transform:translateY(-4px);}
.edu-card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--blue),var(--violet));opacity:0;transition:opacity .4s;}
.edu-card:hover::before{opacity:1;}
.edu-yr{font-family:'JetBrains Mono',monospace;font-size:.62rem;letter-spacing:.15em;color:var(--violet);margin-bottom:16px;}
.edu-deg{font-weight:700;font-size:.95rem;margin-bottom:8px;line-height:1.3;}
.edu-inst{font-size:.78rem;color:var(--muted);}
.edu-status{display:inline-block;margin-top:18px;font-family:'JetBrains Mono',monospace;font-size:.58rem;letter-spacing:.15em;color:var(--blue);border:1px solid rgba(79,142,255,.3);padding:4px 12px;border-radius:3px;}

/* CTA */
.cta-wrap{padding:140px 64px;text-align:center;position:relative;overflow:hidden;border-top:1px solid var(--border);}
.cta-wrap::before{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:700px;height:700px;background:radial-gradient(circle,rgba(139,92,246,.07),transparent 65%);pointer-events:none;}
.cta-title{font-size:clamp(2.5rem,5vw,5rem);font-weight:900;letter-spacing:-.03em;margin-bottom:20px;line-height:1;}
.cta-title span{background:linear-gradient(135deg,var(--blue),var(--violet));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.cta-sub{font-size:1rem;color:var(--muted);max-width:480px;margin:0 auto 48px;line-height:1.75;}
.contact-row{display:flex;justify-content:center;gap:12px;flex-wrap:wrap;margin-top:60px;}
.contact-chip{display:flex;align-items:center;gap:10px;background:var(--card);border:1px solid var(--border);border-radius:40px;padding:14px 26px;font-family:'JetBrains Mono',monospace;font-size:.68rem;color:var(--muted);letter-spacing:.08em;transition:border-color .3s,color .3s,background .3s;}
.contact-chip:hover{border-color:rgba(79,142,255,.4);color:var(--white);background:rgba(79,142,255,.05);}
.chip-dot{width:6px;height:6px;background:var(--blue);border-radius:50%;flex-shrink:0;}

footer{padding:32px 64px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid var(--border);}
.ft-copy{font-family:'JetBrains Mono',monospace;font-size:.62rem;color:rgba(255,255,255,.2);letter-spacing:.1em;}
.ft-sys{font-family:'JetBrains Mono',monospace;font-size:.62rem;color:rgba(79,142,255,.3);letter-spacing:.08em;}

.reveal-wrap{opacity:0;transform:translateY(40px);transition:opacity .8s ease,transform .8s ease;}
.reveal-wrap.revealed{opacity:1;transform:translateY(0);}
.rule{height:1px;background:var(--border);margin:0 64px;}

@media(max-width:1024px){nav{padding:20px 32px;}.hero-content{padding:130px 32px 100px;}.section{padding:100px 32px;}.cap-grid{grid-template-columns:repeat(2,1fr);}.edu-grid{grid-template-columns:1fr 1fr;}.story-grid{grid-template-columns:1fr;gap:48px;}.story-left{position:relative;top:auto;}.rule{margin:0 32px;}.cta-wrap{padding:100px 32px;}footer{padding:28px 32px;}.threat-ticker{display:none;}}
@media(max-width:640px){.nav-links{display:none;}.cap-grid,.edu-grid{grid-template-columns:1fr;}.hero-h1{font-size:2.6rem;}}
</style>
</head>
<body>

<div id="cur"></div>
<div id="cur-ring"></div>

<!-- LOADER -->
<div id="loader">
  <div class="loader-name">Felix Mekonge</div>
  <div class="loader-bar-track"><div class="loader-bar-fill" id="lbar"></div></div>
  <div class="loader-pct" id="lpct">0%</div>
</div>

<!-- NAV -->
<nav id="nav">
  <div class="nav-logo">Felix<span>.</span>sys</div>
  <ul class="nav-links">
    <li><a href="#capabilities">Capabilities</a></li>
    <li><a href="#story">Story</a></li>
    <li><a href="#education">Education</a></li>
  </ul>
  <a href="#contact" class="nav-pill">Connect →</a>
</nav>

<!-- HERO -->
<section class="hero" id="hero">
  <canvas id="globe-canvas"></canvas>
  <div class="hero-vignette"></div>

  <div class="hero-content">
    <div class="hero-eyebrow">Cybersecurity Engineer · MSc Chester · Est. 2025</div>
    <h1 class="hero-h1">
      Defending<br>
      <span class="grad">Tomorrow's</span>
      Digital World
    </h1>
    <p class="hero-sub">Merging threat intelligence, identity architecture, and network engineering into a unified security vision — built for the age of AI.</p>
    <div class="hero-btns">
      <a href="#story" class="btn btn-fill">Discover My Story</a>
      <a href="#capabilities" class="btn btn-ghost">View Capabilities</a>
    </div>
  </div>

  <!-- Live threat ticker -->
  <div class="threat-ticker" id="ticker">
    <div class="ticker-item"><span class="ticker-dot td-red"></span>THREAT DETECTED · Moscow, RU · SSH Brute Force</div>
    <div class="ticker-item"><span class="ticker-dot td-yellow"></span>ANOMALY · Beijing, CN · Port Scan 443</div>
    <div class="ticker-item"><span class="ticker-dot td-green"></span>BLOCKED · Lagos, NG · Phishing URL Intercepted</div>
    <div class="ticker-item"><span class="ticker-dot td-red"></span>ALERT · São Paulo, BR · DDoS Signature Matched</div>
    <div class="ticker-item"><span class="ticker-dot td-yellow"></span>MONITOR · Frankfurt, DE · Unusual Auth Pattern</div>
  </div>

  <div class="hero-scroll">
    <div class="scroll-bar"></div>
    Scroll to explore
  </div>
</section>

<!-- MARQUEE -->
<div class="marquee-wrap">
  <div class="marquee-inner" id="marquee"></div>
</div>

<!-- CAPABILITIES -->
<div class="section" id="capabilities">
  <div class="reveal-wrap">
    <div class="s-tag">01 · Core Capabilities</div>
    <h2 class="s-title">Precision-Built<br><span>Security Stack</span></h2>
  </div>
  <div class="cap-grid" id="cap-grid"></div>
</div>

<div class="rule"></div>

<!-- STORY -->
<div class="section" id="story">
  <div class="reveal-wrap">
    <div class="s-tag">02 · The Story</div>
    <h2 class="s-title">Where AI Meets<br><span>Cyber Defence</span></h2>
  </div>
  <div class="story-grid">
    <div class="story-left">
      <div class="story-visual"><div class="story-visual-inner">FM</div></div>
      <div class="story-facts">
        <div class="fact-cell"><div class="fact-val">100+</div><div class="fact-lbl">AD Accounts</div></div>
        <div class="fact-cell"><div class="fact-val">C1</div><div class="fact-lbl">English IELTS</div></div>
        <div class="fact-cell"><div class="fact-val">2</div><div class="fact-lbl">Languages</div></div>
        <div class="fact-cell"><div class="fact-val">MSc</div><div class="fact-lbl">In Progress</div></div>
      </div>
    </div>
    <div class="story-right" id="story-right">
      <p>My fascination with AI didn't start in a lecture hall — it started the moment I realised machines could <em>learn to think faster than attackers can move</em>. During my attachment at the Attorney General's Office, I watched threats evolve in real time: not random noise, but calculated, adaptive intrusions targeting the very systems I was protecting.</p>
      <p>That experience planted a question I haven't stopped chasing — <em>what if defence could be as intelligent as the attack?</em> Cybersecurity, to me, is not a career. It is a calling. Every firewall rule, every anomaly flagged, every identity verified is a small act of protecting real people.</p>
      <p>Pursuing my MSc in Cybersecurity at the University of Chester is a deliberate move toward the intersection of <em>machine learning and threat intelligence</em>. I study network behaviour not just to fix it, but to understand its grammar well enough to teach a system to read it automatically.</p>
      <p>The world is accelerating. Adversaries are leveraging AI to craft more convincing attacks and evade detection. My conviction: <em>the most resilient defences of tomorrow will themselves be intelligent</em>. I want to build those defences.</p>
      <div class="tag-cloud">
        <span class="tag">SIEM</span><span class="tag">IAM</span><span class="tag">Active Directory</span>
        <span class="tag">Threat Intel</span><span class="tag">IDS/IPS</span>
        <span class="tag v">Python</span><span class="tag v">Kotlin</span><span class="tag v">Java</span>
        <span class="tag v">Linux</span><span class="tag v">Windows Server</span>
        <span class="tag">MITRE ATT&CK</span><span class="tag">DLP</span><span class="tag">Zero Trust</span>
      </div>
      <div class="story-quote" id="story-quote">"Protect the digital world with the same intelligence it is built upon."</div>
    </div>
  </div>
</div>

<div class="rule"></div>

<!-- EDUCATION -->
<div class="section" id="education">
  <div class="reveal-wrap">
    <div class="s-tag">03 · Knowledge Architecture</div>
    <h2 class="s-title">Academic<br><span>Foundation</span></h2>
  </div>
  <div class="edu-grid" id="edu-grid"></div>
</div>

<div class="rule"></div>

<!-- CTA -->
<div class="cta-wrap" id="contact">
  <div class="reveal-wrap">
    <div class="cta-title">Ready to Build<br><span>Something Great?</span></div>
    <p class="cta-sub">Available for cybersecurity roles, research collaborations, and technical challenges that push boundaries.</p>
    <div style="display:flex;gap:16px;justify-content:center;flex-wrap:wrap;">
      <a href="mailto:felix@example.com" class="btn btn-fill">Send a Message</a>
      <a href="#capabilities" class="btn btn-ghost">See My Work</a>
    </div>
    <div class="contact-row">
      <div class="contact-chip"><span class="chip-dot"></span>felix.mekonge@email.com</div>
      <div class="contact-chip"><span class="chip-dot"></span>github.com/F45elix</div>
      <div class="contact-chip"><span class="chip-dot"></span>Crewe, Cheshire, UK</div>
    </div>
  </div>
</div>

<footer>
  <div class="ft-copy">© 2050 Felix Mekonge · All rights reserved</div>
  <div class="ft-sys">SYS.BUILD · v9.4.1 · ONLINE</div>
</footer>

<script>
/* ════════════════════════════════
   LOADER
════════════════════════════════ */
const lbar=document.getElementById('lbar'),lpct=document.getElementById('lpct'),loader=document.getElementById('loader');
let pct=0;
const lt=setInterval(()=>{
  pct=Math.min(pct+Math.random()*18,100);
  lbar.style.width=pct+'%';
  lpct.textContent=Math.floor(pct)+'%';
  if(pct>=100){
    clearInterval(lt);
    setTimeout(()=>{
      loader.classList.add('hidden');
      document.getElementById('nav').classList.add('visible');
      document.getElementById('hero').classList.add('active');
      initGlobe();
      animateTicker();
    },300);
  }
},120);

/* ════════════════════════════════
   CURSOR
════════════════════════════════ */
const cur=document.getElementById('cur'),ring=document.getElementById('cur-ring');
let mx=0,my=0,rx=0,ry=0;
document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;cur.style.left=mx+'px';cur.style.top=my+'px';});
(function anim(){rx+=(mx-rx)*.1;ry+=(my-ry)*.1;ring.style.left=rx+'px';ring.style.top=ry+'px';requestAnimationFrame(anim);})();
document.querySelectorAll('a,button,.cap-cell,.edu-card,.contact-chip').forEach(el=>{
  el.addEventListener('mouseenter',()=>{cur.style.width='18px';cur.style.height='18px';cur.style.background='#8b5cf6';ring.style.width='52px';ring.style.height='52px';});
  el.addEventListener('mouseleave',()=>{cur.style.width='10px';cur.style.height='10px';cur.style.background='#4f8eff';ring.style.width='36px';ring.style.height='36px';});
});

/* ════════════════════════════════
   3D GLOBE
════════════════════════════════ */
function initGlobe(){
  const canvas=document.getElementById('globe-canvas');
  const ctx=canvas.getContext('2d');
  let W,H,cx,cy,R;

  function resize(){
    W=canvas.width=canvas.offsetWidth;
    H=canvas.height=canvas.offsetHeight;
    cx=W/2; cy=H/2;
    R=Math.min(W,H)*0.38;
  }
  resize();
  window.addEventListener('resize',resize);

  // lat/lon grid points
  const LATITUDES=18, LONGITUDES=36;
  const gridPts=[];
  for(let la=-80;la<=80;la+=180/LATITUDES){
    for(let lo=0;lo<360;lo+=360/LONGITUDES){
      gridPts.push({la:la*Math.PI/180, lo:lo*Math.PI/180});
    }
  }

  // threat node cities [lat, lon, label, color]
  const threats=[
    [55.75, 37.61,'Moscow','#ff4466'],
    [39.90, 116.39,'Beijing','#ff4466'],
    [6.52, 3.37,'Lagos','#4f8eff'],
    [-23.54,-46.63,'São Paulo','#ffcc00'],
    [50.11, 8.68,'Frankfurt','#ffcc00'],
    [40.71,-74.00,'New York','#4f8eff'],
    [1.35, 103.82,'Singapore','#ff4466'],
    [51.51,-0.12,'London','#4f8eff'],
    [35.68, 139.69,'Tokyo','#ffcc00'],
    [-33.86, 151.21,'Sydney','#4f8eff'],
    [28.61, 77.20,'Delhi','#ffcc00'],
    [48.85, 2.35,'Paris','#4f8eff'],
  ].map(([la,lo,lbl,col])=>({la:la*Math.PI/180,lo:lo*Math.PI/180,lbl,col,pulse:Math.random()*Math.PI*2,arc:null}));

  // arc connections between some threats
  const arcPairs=[[0,2],[1,3],[4,6],[7,9],[5,8],[10,11],[0,5],[2,6]];

  let rotY=0, rotX=0.18;
  let dragX=0,dragY=0,isDrag=false,lastMX=0,lastMY=0;
  let autoSpin=0.003;

  canvas.addEventListener('mousedown',e=>{isDrag=true;lastMX=e.clientX;lastMY=e.clientY;});
  canvas.addEventListener('mousemove',e=>{
    if(!isDrag)return;
    dragX+=(e.clientX-lastMX)*0.005;
    dragY+=(e.clientY-lastMY)*0.003;
    lastMX=e.clientX; lastMY=e.clientY;
  });
  canvas.addEventListener('mouseup',()=>isDrag=false);
  canvas.addEventListener('mouseleave',()=>isDrag=false);

  // project 3D sphere point to 2D canvas
  function project(la,lo){
    const sinLa=Math.sin(la),cosLa=Math.cos(la);
    const sinLo=Math.sin(lo+rotY),cosLo=Math.cos(lo+rotY);
    const x=cosLa*sinLo;
    const y=Math.sin(la)*Math.cos(rotX)-cosLa*cosLo*Math.sin(rotX);
    const z=Math.sin(la)*Math.sin(rotX)+cosLa*cosLo*Math.cos(rotX);
    return {x:cx+x*R, y:cy-y*R, z, visible:z>-0.1};
  }

  // draw great-circle arc between two nodes
  function drawArc(p1,p2,col,progress){
    const steps=60;
    ctx.beginPath();
    let started=false;
    for(let i=0;i<=steps*progress;i++){
      const t=i/steps;
      // slerp on sphere
      const la=p1.la+(p2.la-p1.la)*t;
      const lo=p1.lo+(p2.lo-p1.lo)*t;
      // add an arc lift
      const lift=Math.sin(t*Math.PI)*0.18;
      const laL=la+lift;
      const {x,y,z,visible}=project(laL,lo);
      if(!visible){started=false;continue;}
      if(!started){ctx.moveTo(x,y);started=true;}
      else ctx.lineTo(x,y);
    }
    const alpha=0.6*Math.min(progress*3,1);
    ctx.strokeStyle=col.replace(')',`,${alpha})`).replace('rgb','rgba').replace('#ff4466',`rgba(255,68,102,${alpha})`).replace('#4f8eff',`rgba(79,142,255,${alpha})`).replace('#ffcc00',`rgba(255,204,0,${alpha})`);
    // simpler
    ctx.strokeStyle=`rgba(79,142,255,${alpha})`;
    if(col==='#ff4466') ctx.strokeStyle=`rgba(255,68,102,${alpha})`;
    if(col==='#ffcc00') ctx.strokeStyle=`rgba(255,204,0,${alpha})`;
    ctx.lineWidth=0.8;
    ctx.stroke();
  }

  // arc animation state
  const arcs=arcPairs.map(([a,b])=>({a,b,progress:Math.random(),speed:0.003+Math.random()*.003,col:threats[a].col}));

  let frame=0;
  function draw(){
    ctx.clearRect(0,0,W,H);
    frame++;

    if(!isDrag) rotY+=autoSpin;
    else rotY+=dragX*0.3; dragX*=0.9;

    // ── GLOBE GLOW ──
    const grd=ctx.createRadialGradient(cx,cy,R*0.6,cx,cy,R*1.3);
    grd.addColorStop(0,'rgba(79,142,255,0.06)');
    grd.addColorStop(0.5,'rgba(139,92,246,0.04)');
    grd.addColorStop(1,'transparent');
    ctx.beginPath();
    ctx.arc(cx,cy,R*1.3,0,Math.PI*2);
    ctx.fillStyle=grd;
    ctx.fill();

    // ── GLOBE OUTER RING ──
    ctx.beginPath();
    ctx.arc(cx,cy,R,0,Math.PI*2);
    ctx.strokeStyle='rgba(79,142,255,0.12)';
    ctx.lineWidth=1;
    ctx.stroke();

    // ── ATMOSPHERE HALO ──
    const atm=ctx.createRadialGradient(cx,cy,R*0.92,cx,cy,R*1.08);
    atm.addColorStop(0,'rgba(79,142,255,0.00)');
    atm.addColorStop(0.6,'rgba(79,142,255,0.07)');
    atm.addColorStop(1,'transparent');
    ctx.beginPath();
    ctx.arc(cx,cy,R*1.08,0,Math.PI*2);
    ctx.fillStyle=atm;
    ctx.fill();

    // ── GRID DOTS ──
    for(const p of gridPts){
      const {x,y,z,visible}=project(p.la,p.lo);
      if(!visible) continue;
      const fade=Math.max(0,(z+0.1)/1.1);
      const dotR=0.9;
      ctx.beginPath();
      ctx.arc(x,y,dotR,0,Math.PI*2);
      ctx.fillStyle=`rgba(79,142,255,${0.18*fade})`;
      ctx.fill();
    }

    // ── LAT LINES (subtle) ──
    for(let la=-60;la<=60;la+=30){
      ctx.beginPath();
      let firstV=true;
      for(let lo=0;lo<=360;lo+=3){
        const {x,y,z,visible}=project(la*Math.PI/180,lo*Math.PI/180);
        if(!visible){firstV=true;continue;}
        const fade=Math.max(0,(z+0.1)/1.1);
        if(firstV){ctx.moveTo(x,y);firstV=false;}
        else ctx.lineTo(x,y);
      }
      ctx.strokeStyle='rgba(79,142,255,0.06)';
      ctx.lineWidth=0.6;
      ctx.stroke();
    }

    // ── LON LINES ──
    for(let lo=0;lo<360;lo+=30){
      ctx.beginPath();
      let firstV2=true;
      for(let la=-80;la<=80;la+=3){
        const {x,y,z,visible}=project(la*Math.PI/180,lo*Math.PI/180);
        if(!visible){firstV2=true;continue;}
        if(firstV2){ctx.moveTo(x,y);firstV2=false;}
        else ctx.lineTo(x,y);
      }
      ctx.strokeStyle='rgba(79,142,255,0.04)';
      ctx.lineWidth=0.5;
      ctx.stroke();
    }

    // ── ARCS ──
    for(const arc of arcs){
      arc.progress+=arc.speed;
      if(arc.progress>1.6) arc.progress=0;
      const prog=Math.min(arc.progress,1);
      drawArc(threats[arc.a],threats[arc.b],arc.col,prog);
    }

    // ── THREAT NODES ──
    for(const t of threats){
      const {x,y,z,visible}=project(t.la,t.lo);
      if(!visible) continue;
      const fade=Math.max(0,(z+0.1)/1.1);
      t.pulse+=0.04;
      const p=Math.abs(Math.sin(t.pulse));

      // outer pulse ring
      ctx.beginPath();
      ctx.arc(x,y,(6+p*10)*fade,0,Math.PI*2);
      const ringCol=t.col==='#ff4466'?`rgba(255,68,102,${0.15*p*fade})`
        :t.col==='#ffcc00'?`rgba(255,204,0,${0.15*p*fade})`
        :`rgba(79,142,255,${0.15*p*fade})`;
      ctx.fillStyle=ringCol;
      ctx.fill();

      // mid ring
      ctx.beginPath();
      ctx.arc(x,y,(3+p*5)*fade,0,Math.PI*2);
      ctx.strokeStyle=t.col==='#ff4466'?`rgba(255,68,102,${0.4*fade})`
        :t.col==='#ffcc00'?`rgba(255,204,0,${0.4*fade})`
        :`rgba(79,142,255,${0.4*fade})`;
      ctx.lineWidth=0.8;
      ctx.stroke();

      // core dot
      ctx.beginPath();
      ctx.arc(x,y,2.5*fade,0,Math.PI*2);
      ctx.fillStyle=t.col==='#ff4466'?`rgba(255,68,102,${0.9*fade})`
        :t.col==='#ffcc00'?`rgba(255,220,60,${0.9*fade})`
        :`rgba(79,142,255,${0.9*fade})`;
      ctx.fill();

      // label (only front-facing, larger)
      if(z>0.3&&fade>0.5){
        ctx.fillStyle=`rgba(240,242,255,${0.75*fade})`;
        ctx.font=`${Math.round(9*fade)}px 'JetBrains Mono',monospace`;
        ctx.fillText(t.lbl,x+6,y-5);
      }
    }

    requestAnimationFrame(draw);
  }
  draw();
}

/* ════════════════════════════════
   TICKER ANIMATION
════════════════════════════════ */
function animateTicker(){
  const items=document.querySelectorAll('.ticker-item');
  items.forEach((el,i)=>{
    el.style.animationDelay=(i*0.2)+'s';
  });
  // cycle new fake alerts
  const cities=['Toronto, CA','Seoul, KR','Cairo, EG','Istanbul, TR','Mumbai, IN','Amsterdam, NL'];
  const types=['SQL Injection Attempt','Malware Signature','Zero-Day Probe','Credential Stuffing','XSS Vector','Botnet C2 Ping'];
  const colors=['td-red','td-yellow','td-green'];
  let idx=0;
  setInterval(()=>{
    const item=items[idx%items.length];
    const city=cities[Math.floor(Math.random()*cities.length)];
    const type=types[Math.floor(Math.random()*types.length)];
    const col=colors[Math.floor(Math.random()*3)];
    item.querySelector('.ticker-dot').className='ticker-dot '+col;
    item.childNodes[1].textContent=` ${type.toUpperCase()} · ${city}`;
    item.style.animation='none';
    void item.offsetWidth;
    item.style.animation='ticker-in .4s ease both';
    idx++;
  },2200);
}

/* ════════════════════════════════
   MARQUEE
════════════════════════════════ */
const mItems=['IAM · Zero Trust','SIEM Monitoring','Threat Detection','Network Security','Active Directory','Data Protection','Incident Response','Vulnerability Mgmt','AI-Driven Security','Linux & Windows','Python · Kotlin · Java','MITRE ATT&CK'];
const mEl=document.getElementById('marquee');
const inner=[...mItems,...mItems,...mItems,...mItems].map(t=>`<span class="marquee-item"><span class="dot"></span>${t}</span>`).join('');
mEl.innerHTML=inner;

/* ════════════════════════════════
   CAPABILITIES
════════════════════════════════ */
const caps=[
  {n:'Identity & Access Mgmt',d:'Managing user identities and access controls across enterprise systems with Active Directory expertise and zero-trust architecture.',pct:85},
  {n:'Data Security',d:'Implementing robust data protection protocols, encryption standards, and DLP strategies across hybrid environments.',pct:80},
  {n:'SIEM Monitoring',d:'Real-time threat detection and incident response using SIEM platforms for proactive, intelligence-led defence.',pct:75},
  {n:'Network Engineering',d:'LAN configuration, troubleshooting, and optimisation — reducing downtime through systematic diagnostics.',pct:88},
  {n:'OS Administration',d:'Deep proficiency in Windows and Linux — from installation and configuration to hardening and performance tuning.',pct:90},
  {n:'Mobile Dev · Kotlin/Java',d:'Building secure, performant Android applications with modern architecture patterns and security-first development practices.',pct:70},
];
const cg=document.getElementById('cap-grid');
caps.forEach((c,i)=>{
  const el=document.createElement('div');
  el.className='cap-cell';
  el.style.transitionDelay=(i*.1)+'s';
  el.innerHTML=`<div class="cap-num">// 0${i+1}</div><div class="cap-name">${c.n}</div><div class="cap-desc">${c.d}</div><div class="cap-bar"><div class="cap-bar-fill" data-pct="${c.pct}"></div></div>`;
  cg.appendChild(el);
});

/* ════════════════════════════════
   EDUCATION
════════════════════════════════ */
const edus=[
  {yr:'2025 → 2026',deg:'MSc Cybersecurity',inst:'University of Chester · UK',status:'In Progress'},
  {yr:'2020 → 2024',deg:'BSc Information Technology',inst:'Dedan Kimathi University of Technology',status:'Completed'},
  {yr:'2024',deg:'IELTS Academic · C1',inst:'Certified Proficiency in English Language',status:'C1 Proficient'},
];
const eg=document.getElementById('edu-grid');
edus.forEach((e,i)=>{
  const el=document.createElement('div');
  el.className='edu-card';
  el.style.transitionDelay=(i*.12)+'s';
  el.innerHTML=`<div class="edu-yr">${e.yr}</div><div class="edu-deg">${e.deg}</div><div class="edu-inst">${e.inst}</div><div class="edu-status">${e.status}</div>`;
  eg.appendChild(el);
});

/* ════════════════════════════════
   INTERSECTION OBSERVER
════════════════════════════════ */
const io=new IntersectionObserver(entries=>{
  entries.forEach(en=>{
    if(!en.isIntersecting)return;
    en.target.classList.add('revealed');
    en.target.querySelectorAll('.cap-bar-fill').forEach(b=>b.style.width=b.dataset.pct+'%');
    io.unobserve(en.target);
  });
},{threshold:.15});

document.querySelectorAll('.reveal-wrap,.cap-cell,.edu-card').forEach(el=>io.observe(el));
document.querySelectorAll('#story-right p').forEach((p,i)=>{p.style.transitionDelay=(i*.12)+'s';io.observe(p);});
io.observe(document.getElementById('story-quote'));
</script>
</body>
</html>
